[
  {
    "objectID": "FinalProject.html",
    "href": "FinalProject.html",
    "title": "Shake It Off-ense: A Causal Analysis of Taylor Swift’s Impact on Chiefs Game Outcomes",
    "section": "",
    "text": "Over the past 3 years I’ve become interested in fantasy football which has led me to explore football statistics in order to better predict the performance of teams and players. Growing up with two sisters , I also grew up listening to every new Taylor Swift album on repeat. Though these two facts about my life seem to be unrelated however, If you’ve watched a Chiefs game in the past two years or heard any news at all about Taylor Swift, you would know that they are unfortunately very related.\nThe world was set ablaze in September 2023 when Taylor Swift and Travis Kelce announced their relationship to the world. Ticket sales for Chiefs games as well as Travis Kelce jersey revenue jumped dramatically as the NFL marketplace was bombarded by millions of Swifties. The biggest pop-star in recent history meets the most dominating NFL team since the Tom Brady era of the Patriots. Needless to say, Taylor Swift and Travis Kelce’s high profile relationship has become a major topic in pop culture.\nTaylor Swift’s presence at Chiefs games is obvious and some would say obnoxious, with no less than 3 showings a game averaging around 15 seconds a shot. If Travis Kelce is involved in a play onscreen at a game that Taylor is attending, it is almost certain that a pan to this blonde haired mega star celebrating with her friends is around the corer. This constant coverage has been met with adoration from her fans - and hostility from some Chief supporters.\nOut of this cultural spotlight emerged a fascinating question: Does Taylor Swift’s attendance actually impact the Chiefs’ performance? This analysis aims to explore that question through a causal lens."
  },
  {
    "objectID": "FinalProject.html#motivation-and-context",
    "href": "FinalProject.html#motivation-and-context",
    "title": "Shake It Off-ense: A Causal Analysis of Taylor Swift’s Impact on Chiefs Game Outcomes",
    "section": "",
    "text": "Over the past 3 years I’ve become interested in fantasy football which has led me to explore football statistics in order to better predict the performance of teams and players. Growing up with two sisters , I also grew up listening to every new Taylor Swift album on repeat. Though these two facts about my life seem to be unrelated however, If you’ve watched a Chiefs game in the past two years or heard any news at all about Taylor Swift, you would know that they are unfortunately very related.\nThe world was set ablaze in September 2023 when Taylor Swift and Travis Kelce announced their relationship to the world. Ticket sales for Chiefs games as well as Travis Kelce jersey revenue jumped dramatically as the NFL marketplace was bombarded by millions of Swifties. The biggest pop-star in recent history meets the most dominating NFL team since the Tom Brady era of the Patriots. Needless to say, Taylor Swift and Travis Kelce’s high profile relationship has become a major topic in pop culture.\nTaylor Swift’s presence at Chiefs games is obvious and some would say obnoxious, with no less than 3 showings a game averaging around 15 seconds a shot. If Travis Kelce is involved in a play onscreen at a game that Taylor is attending, it is almost certain that a pan to this blonde haired mega star celebrating with her friends is around the corer. This constant coverage has been met with adoration from her fans - and hostility from some Chief supporters.\nOut of this cultural spotlight emerged a fascinating question: Does Taylor Swift’s attendance actually impact the Chiefs’ performance? This analysis aims to explore that question through a causal lens."
  },
  {
    "objectID": "FinalProject.html#main-objective",
    "href": "FinalProject.html#main-objective",
    "title": "Shake It Off-ense: A Causal Analysis of Taylor Swift’s Impact on Chiefs Game Outcomes",
    "section": "Main Objective",
    "text": "Main Objective\nHow does Taylor Swift’s attendance at Kansas City Chiefs games effect the offensive performance."
  },
  {
    "objectID": "FinalProject.html#packages-used-in-this-analysis",
    "href": "FinalProject.html#packages-used-in-this-analysis",
    "title": "Shake It Off-ense: A Causal Analysis of Taylor Swift’s Impact on Chiefs Game Outcomes",
    "section": "Packages Used In This Analysis",
    "text": "Packages Used In This Analysis\n\nlibrary(splines)\nlibrary(tidyverse)\nlibrary(kknn)\nlibrary(Lahman)\nlibrary(probably)\nlibrary(knockoff)\nlibrary(selectiveInference)\nlibrary(tidymodels)\nlibrary(modeltime)\nlibrary(readr)\nlibrary(stringr)\nlibrary(ggplot2)  \nlibrary(dplyr)\n\n\n\n\nPackage\nUse\n\n\n\n\nhere\nto easily load and save data\n\n\nreadr\nto import the CSV file data\n\n\ndplyr\nto massage and summarize data\n\n\nrsample\nto split data into training and test sets\n\n\nggplot2\nto create nice-looking and informative graphs\n\n\ntidyverse\na collection of R packages designed for data science\n\n\nkknn\nfor k-nearest neighbors classification and regression\n\n\nLahman\nprovides baseball statistics data for analysis\n\n\nprobably\nto post-process and threshold model predictions\n\n\nknockoff\nfor feature selection with controlled false discovery rate\n\n\nselectiveInference\nfor valid statistical inference after model selection\n\n\ntidymodels\na unified framework for modeling and machine learning\n\n\nmodeltime\nfor time series forecasting using tidymodels workflow\n\n\nstringr\nto manipulate and work with strings easily"
  },
  {
    "objectID": "FinalProject.html#data-description",
    "href": "FinalProject.html#data-description",
    "title": "Shake It Off-ense: A Causal Analysis of Taylor Swift’s Impact on Chiefs Game Outcomes",
    "section": "Data Description",
    "text": "Data Description\nThe data I will be using consists of Kansas City Chiefs season performance statistics from Pro Football Reference spanning the 2013 to 2024 seasons. I am constraining the data to this time frame because 2013 marks the year Andy Reid was hired as head coach, ushering in a new era of consistent leadership and a distinct shift in the team’s playing style and strategic approach. This period provides a cohesive and relevant context for analyzing performance trends and causal impacts.\n\nData Dictionary\nYear – The year the game took place.\nWeek – The week of the NFL season in which the game was played.\nDay – The day of the week the game occurred.\nTime – The time of day the game started.\nOutcome – The result of the game (Win or Loss).\nOT – Indicates whether the game went into overtime.\nRec – The team’s win-loss record at the time of the game.\nLocation – Indicates whether it was a home or away game.\nOpp – The name of the opposing team.\nPtS – Points scored by the Chiefs.\nPtA – Points allowed (points scored by the opponent).\nFirstD – Number of first downs achieved by the Chiefs.\nTotYd – Total yards gained on offense.\nPassY – Total passing yards.\nRushY – Total rushing yards.\nTO – Number of turnovers committed by the Chiefs.\nFirstD_Alwd – First downs allowed to the opponent.\nTotYd_Alwd – Total yards allowed to the opponent.\nPassY_Alwd – Passing yards allowed.\nRushY_Alwd – Rushing yards allowed.\nTO_Alwd – Turnovers forced by the Chiefs’ defense.\nExOff – Expected offensive performance (expected points gained on offense).\nExDef – Expected defensive performance (average expected points prevented per play).\nExSpec – Expected special teams performance.\nTaylor_Attend – Indicates whether Taylor Swift attended the game (Yes/No).\n\nkcc_g_16 &lt;- read_csv(\"C:/Users/caleb/OneDrive/Desktop/School/Math 437/Final Project/Project Data/kcc_g_16.txt\", show_col_types = FALSE)\nkcc_g_24 &lt;- read_csv(\"C:/Users/caleb/OneDrive/Desktop/School/Math 437/Final Project/Project Data/kcc_g_24.txt\", show_col_types = FALSE)\nkcc_g_23 &lt;- read_csv(\"C:/Users/caleb/OneDrive/Desktop/School/Math 437/Final Project/Project Data/kcc_g_23.txt\", show_col_types = FALSE)\nkcc_g_22 &lt;- read_csv(\"C:/Users/caleb/OneDrive/Desktop/School/Math 437/Final Project/Project Data/kcc_g_22.txt\", show_col_types = FALSE)\nkcc_g_21 &lt;- read_csv(\"C:/Users/caleb/OneDrive/Desktop/School/Math 437/Final Project/Project Data/kcc_g_21.txt\", show_col_types = FALSE)\nkcc_g_20 &lt;- read_csv(\"C:/Users/caleb/OneDrive/Desktop/School/Math 437/Final Project/Project Data/kcc_g_20.txt\", show_col_types = FALSE)\nkcc_g_19 &lt;- read_csv(\"C:/Users/caleb/OneDrive/Desktop/School/Math 437/Final Project/Project Data/kcc_g_19.txt\", show_col_types = FALSE)\nkcc_g_18 &lt;- read_csv(\"C:/Users/caleb/OneDrive/Desktop/School/Math 437/Final Project/Project Data/kcc_g_18.txt\", show_col_types = FALSE)\nkcc_g_17 &lt;- read_csv(\"C:/Users/caleb/OneDrive/Desktop/School/Math 437/Final Project/Project Data/kcc_g_17.txt\", show_col_types = FALSE)\nkcc_g_16 &lt;- read_csv(\"C:/Users/caleb/OneDrive/Desktop/School/Math 437/Final Project/Project Data/kcc_g_16.txt\", show_col_types = FALSE)\nkcc_g_15 &lt;- read_csv(\"C:/Users/caleb/OneDrive/Desktop/School/Math 437/Final Project/Project Data/kcc_g_15.txt\", show_col_types = FALSE)\nkcc_g_14 &lt;- read_csv(\"C:/Users/caleb/OneDrive/Desktop/School/Math 437/Final Project/Project Data/kcc_g_14.txt\", show_col_types = FALSE)\nkcc_g_13 &lt;- read_csv(\"C:/Users/caleb/OneDrive/Desktop/School/Math 437/Final Project/Project Data/kcc_g_13.txt\", show_col_types = FALSE)\n\n\n\nData Limitations\nChoosing a response variable to measure offensive success is a critical first step. While several variables—such as Outcome, TotYd (total yards), and PtS (points scored)—could serve as indicators, each comes with trade-offs.\nOutcome (win/loss) is influenced heavily by defensive and special teams performance, making it a poor standalone measure of offensive success. TotYd isolates offensive effort more cleanly, but it fails to account for the ultimate goal of the offense: scoring points.\nPtS offers the most direct measure of offensive success, as it captures the end result of drives and includes field goals, which reflect moderate offensive effectiveness. While PtS does include occasional scores from defense and special teams (e.g., pick-sixes, safeties, return touchdowns), these are relatively rare and unlikely to significantly skew the analysis.\nIdeally, we would use a variable representing offensive-only points scored, but such a measure is not available in our data. Therefore, we will proceed with PtS (points scored) as our response variable, acknowledging its limitations.\nLastly, offensive output must be interpreted in the context of the opponent’s defensive strength—30 points against a weak defense is not equivalent to 14 against a top-tier one. While we lack a “predicted offensive output” metric to directly control for this, we recognize this limitation in our model’s interpretability."
  },
  {
    "objectID": "FinalProject.html#data-wrangling",
    "href": "FinalProject.html#data-wrangling",
    "title": "Shake It Off-ense: A Causal Analysis of Taylor Swift’s Impact on Chiefs Game Outcomes",
    "section": "Data Wrangling",
    "text": "Data Wrangling\nWe cleaned the dataset by adjusting column names, converting week titles to numbers, and adding a manually created Taylor_Attend variable.\n\nfile_paths &lt;- list.files(path = \"C:/Users/caleb/OneDrive/Desktop/School/Math 437/Final Project/Project Data\", \n                         pattern = \"kcc_g_.*\\\\.txt$\", full.names = TRUE)\n\nnew_col_names &lt;- c(\"Week\", \"Day\", \"Date\", \"Time\", \"Boxscore\", \"Outcome\", \"OT\", \"Rec\", \n                   \"Location\", \"Ppp\", \"PtS\", \"PtA\", \"FirstD\", \"TotYd\", \"PassY\", \"RushY\", \n                   \"TO\", \"FirstD_Alwd\", \"TotYd_Alwd\", \"PassY_Alwd\", \"RushY_Alwd\", \n                   \"TO_Alwd\", \"ExOff\", \"ExDef\", \"ExSpec\")\n\nkcc_data &lt;- lapply(file_paths, function(file) {\n  df &lt;- read_csv(file, skip = 1, show_col_types = FALSE)   # Read the file\n  colnames(df) &lt;- new_col_names  # Rename columns\n  year_suffix &lt;- str_extract(basename(file), \"\\\\d{2}\")\n  full_year &lt;- as.integer(paste0(\"20\", year_suffix))  # Convert to 4-digit year\n\n  df &lt;- df |&gt; filter(Week != \"Playoffs\") #Removes playoff row\n  df &lt;- df |&gt; filter(Ppp != \"Bye Week\") #removes bie week row\n  df &lt;- df |&gt; mutate(Taylor_Attend = \"no\") #Adds attendance collumn\n  df &lt;- df |&gt;  mutate(Year = full_year) |&gt;  # Add Year column\n    \n    relocate(Year, .before = Week)  # Move Year column before Week\n  df &lt;- df |&gt; mutate(\n    Date = paste(Date, full_year),  # Combine Date and Year\n    Date = as.Date(Date, format = \"% %d %Y\")  # Convert to Date format (e.g., \"September 13 2013\")\n  )\n\n  df &lt;- df |&gt; mutate(\n    Week = case_when(  # Replace playoff names with sequential week numbers\n        Week == \"Wild Card\" ~ \"18\",\n        Week == \"Division\" ~ \"19\",\n        Week == \"Conf. Champ.\" ~ \"20\",\n        Week == \"SuperBowl\" ~ \"21\",\n        TRUE ~ as.character(Week)  # Keep regular weeks unchanged\n      )\n  )\n  return(df)  # Return the modified dataframe\n})\n\nNew names:\nNew names:\nNew names:\nNew names:\nNew names:\nNew names:\nNew names:\nNew names:\nNew names:\nNew names:\nNew names:\nNew names:\n• `` -&gt; `...4`\n• `` -&gt; `...5`\n• `` -&gt; `...6`\n• `` -&gt; `...9`\n• `Opp` -&gt; `Opp...10`\n• `Opp` -&gt; `Opp...12`\n• `1stD` -&gt; `1stD...13`\n• `TotYd` -&gt; `TotYd...14`\n• `PassY` -&gt; `PassY...15`\n• `RushY` -&gt; `RushY...16`\n• `TO` -&gt; `TO...17`\n• `1stD` -&gt; `1stD...18`\n• `TotYd` -&gt; `TotYd...19`\n• `PassY` -&gt; `PassY...20`\n• `RushY` -&gt; `RushY...21`\n• `TO` -&gt; `TO...22`\n\nnames(kcc_data) &lt;- gsub(\".*/|\\\\.txt$\", \"\", file_paths)  # Remove path and .txt extension\n\n# Assign each dataframe to a separate variable\nfor (name in names(kcc_data)) {\n  assign(name, kcc_data[[name]])\n}\n\nTaylor_Attend23 &lt;- c(\"no\", \"no\", \"yes\", \"yes\", \"no\", \"yes\", \"yes\", \"no\", \"no\", \"no\", \"no\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"no\", \"yes\", \"yes\", \"yes\", \"yes\")\nTaylor_Attend24 &lt;- c(\"yes\", \"yes\", \"no\", \"no\", \"yes\", \"no\", \"no\", \"yes\", \"yes\", \"no\", \"no\", \"yes\", \"no\", \"no\", \"yes\", \"no\", \"no\", \"yes\", \"yes\", \"yes\")\n\nkcc_g_23 &lt;- kcc_g_23 |&gt; mutate(Taylor_Attend = Taylor_Attend23)\nkcc_g_24 &lt;- kcc_g_24 |&gt; mutate(Taylor_Attend = Taylor_Attend24)"
  },
  {
    "objectID": "FinalProject.html#exploratory-data-analysis",
    "href": "FinalProject.html#exploratory-data-analysis",
    "title": "Shake It Off-ense: A Causal Analysis of Taylor Swift’s Impact on Chiefs Game Outcomes",
    "section": "Exploratory Data Analysis",
    "text": "Exploratory Data Analysis\nFor our EDA, we focus on the Chiefs’ performance during Taylor Swift and Travis Kelce’s relationship, which began in September 2023. Since her first game attendance was on September 24, 2023, we use data from the 2023 and 2024 seasons.\nTo train our model, we include data from 2013 onward—the year Andy Reid became head coach. Data before 2013 is excluded, as it reflects a different era with distinct strategies and would weaken the model’s relevance to the current team.\n\nkcc_g_train &lt;- bind_rows(list(kcc_g_13, kcc_g_14, kcc_g_15, kcc_g_16, kcc_g_17, kcc_g_18, kcc_g_19, kcc_g_20, kcc_g_21, kcc_g_22))\n\nkcc_g_test &lt;- bind_rows(kcc_g_23, kcc_g_24)\n\nkcc_g_all &lt;- bind_rows(kcc_g_train, kcc_g_test)\n\nkcc_g_dyn &lt;- bind_rows(kcc_g_19, kcc_g_20, kcc_g_21, kcc_g_22, kcc_g_23, kcc_g_24)\n\nkcc_g_taylor &lt;- filter(kcc_g_test, Taylor_Attend == \"yes\")\n\nkcc_g_taylorless &lt;- filter(kcc_g_test, Taylor_Attend == \"no\")\n\nTo give context as to how the Chiefs performed during his time period, here is the distribution of points scored for 2013 to 2024 seasons.\n\nggplot(kcc_g_all, aes(x = as.factor(Year), y = PtS, fill = as.factor(Year))) +\n  geom_boxplot() +\n  theme_minimal() +\n  labs(title = \"Points Scored Per Game Distribution by Year\",\n       x = \"Year\", \n       y = \"Points Scored Per Game (PtS)\")\n\n\n\n\n\n\n\n\nWe will now explore the distribution of Points scored by the Chiefs when Taylor Attended verses games she did not attend.\n\nkcc_g_test |&gt; group_by(Taylor_Attend) |&gt; \n  summarize(\n    num_total = n(),\n    num_missing = sum(is.na(PtS)),\n    min = min(PtS, na.rm = TRUE),\n    Q1 = quantile(PtS, 0.25, na.rm = TRUE),\n    median = median(PtS, na.rm = TRUE),\n    Q3 = quantile(PtS, 0.75, na.rm = TRUE),\n    max = max(PtS, na.rm = TRUE),\n    mean = mean(PtS, na.rm = TRUE),\n    sd = sd(PtS, na.rm = TRUE)\n  )\n\n# A tibble: 2 × 10\n  Taylor_Attend num_total num_missing   min    Q1 median    Q3   max  mean    sd\n  &lt;chr&gt;             &lt;int&gt;       &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 no                   18           0     0    17     21    27    31  20.5  7.91\n2 yes                  23           0    14    19     25    27    41  24.3  6.14\n\nggplot(data = kcc_g_test, aes(x = Taylor_Attend, y = PtS, fill = Taylor_Attend)) + \n  geom_boxplot() +\n  geom_jitter(width = 0.2, alpha = 0.5) +  # Avoids overlapping points\n  coord_flip() +\n  theme_minimal() +\n  labs(title = \"Boxplot of PtS during 2023 - 2024\",\n       x = \"Taylor Attend\",\n       y = \"PtS\") +\n  scale_fill_manual(values = c( \"no\" = \"red\", \"yes\" = \"gold\"), labels = c(\"Games Taylor Did Not Attend\", \"Games Taylor Attended\"))\n\n\n\n\n\n\n\n\nAs you can see, the games which Taylor attended seem to have a greater distribution than the games she did not attend with about a 4 point greater mean. We will also note that the two highest scoring games occurred when Taylor was attending and the two lowest scoring games occurred when she was not attending.\nWe will proceed to observe the relationship our variables have with Points Scored.\nThe following is a plot of Total Yards and Points Scored, with blue and red data points indicating Taylor’s attendance and non-attendance, respectively.\n\nggplot(kcc_g_test, aes(x = TotYd, y = PtS, color = Taylor_Attend)) +\n  geom_point(size = 4, alpha = 0.8) +\n  scale_color_manual(values = c(\"red\", \"gold\")) +\n  labs(\n    title = \"Chiefs Points Scored vs Total Yards\",\n    x = \"Total Yards (TotYd)\",\n    y = \"Points Scored (PtS)\",\n    color = \"Taylor Swift Attendance\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\nUnsurprisingly, we can observe a fairly linear relationship here.\nNext, we examine the relationship between the ExOff and PtS variables. While the exact definition of ExOff is unclear, it appears to reflect some measure of offensive performance. We hypothesize that ExOff represents the average expected points per offensive play in a game.\n\nggplot(kcc_g_test, aes(x = ExOff, y = PtS, color = Taylor_Attend)) +\n  geom_point(size = 4, alpha = 0.8) +\n  scale_color_manual(values = c(\"red\", \"gold\")) +\n  labs(\n    title = \"Chiefs ExOff vs Total Yards\",\n    x = \"Expected Off (ExOff)\",\n    y = \"Points Scored (PtS)\",\n    color = \"Taylor Swift Attendance\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\nA stronger linear relationship is again observable; however, we have chosen not to include this variable in our model, as its underlying significance is unclear.\nLastly, we will observe the relationship between fist down count and Points scored.\n\nlibrary(ggplot2)\n\nggplot(kcc_g_test, aes(x = FirstD, y = PtS, color = Taylor_Attend)) +\n  geom_point(size = 4, alpha = 0.8) +\n  scale_color_manual(values = c(\"red\", \"gold\")) +\n  labs(\n    title = \"Chiefs First Down Count vs Total Yards\",\n    x = \"First Down Count (FirstD) \",\n    y = \"Points Scored (PtS)\",\n    color = \"Taylor Swift Attendance\"\n  ) +\n  theme_minimal()\n\n\n\n\n\n\n\n\nWe will continue using Points Scored (PtS) as our response variable."
  },
  {
    "objectID": "FinalProject.html#causal-inference",
    "href": "FinalProject.html#causal-inference",
    "title": "Shake It Off-ense: A Causal Analysis of Taylor Swift’s Impact on Chiefs Game Outcomes",
    "section": "Causal Inference",
    "text": "Causal Inference\nIn order to determine If Taylor Swift’s attendance at Chiefs game have a significant effect on points scored, we will perform causal inference. Here we are trying to infer the effect a treatment has on population or otherwise known as Average Treatment Effect (ATE). In our case, the treatment is Taylor Swifts Attendance, and our population is Chiefs games from 2023 to 2024. In order to determine ATE, we will use the following equation.\n\\[\n\\text{ATE} = \\pi_{\\text{treated}} \\cdot \\text{ATT} + \\pi_{\\text{untreated}} \\cdot \\text{ATU}\n\\]\nHere \\(\\pi\\) indicates proportion not 3.14159.\nATT is defined as the average treatment effect has on the treated population. In our case, this refers to the effect Taylor Swift has on games she attended. Here is a mathematical expression of ATT.\n\\[\n\\text{ATT} = \\text{E}[Y_i^1 - Y_i^0 \\, | \\, X_i = 1]\n\\]\n\\[\n\\text{ATT} = [Y_{i} - \\text{E}(Y_i^0) \\, | \\, X_i = 1]\n\\]\nHere \\(Y_i^1\\) is the outcome that would occur if treated—that is, the points scored if Taylor attended—and \\(Y_i^0\\) is the outcome that would occur if Taylor did not attend. Finally, \\(X_i\\) is a treatment indicator, where \\(X_i = 1\\) denotes games Taylor attended.\nATU is defined as average treatment effect on the untreated populating. In our case this refers to the effect Taylor Swift would have had at games she did not attend. The following is a mathematical expression of ATU.\n\\[\n\\text{ATU} = \\text{E}[Y_i^1 - Y_i^0 \\, | \\, X_i = 0]\n\\] \\[\n\\text{ATU} = [\\text{E}(Y_i^1) - Y_i \\, | \\, X_i = 0]\n\\]\nThe following data frame presents the data we have so far for these calculations.\n\nkcc_disp &lt;- kcc_g_test |&gt;\n  dplyr::select(\n    Year,\n    Ppp,\n    PtS,\n    Taylor_Attend\n  )\n kcc_disp &lt;- kcc_disp |&gt; mutate(Taylor_Outcome_Y1 = (ifelse(Taylor_Attend == \"yes\", PtS, NA)))\n kcc_disp &lt;- kcc_disp |&gt; mutate(Taylorless_Outcome_Y0 = (ifelse(Taylor_Attend == \"no\", PtS, NA)))\n kcc_disp\n\n# A tibble: 41 × 6\n    Year Ppp           PtS Taylor_Attend Taylor_Outcome_Y1 Taylorless_Outcome_Y0\n   &lt;int&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;                     &lt;dbl&gt;                 &lt;dbl&gt;\n 1  2023 Detroit Li…    20 no                           NA                    20\n 2  2023 Jacksonvil…    17 no                           NA                    17\n 3  2023 Chicago Be…    41 yes                          41                    NA\n 4  2023 New York J…    23 yes                          23                    NA\n 5  2023 Minnesota …    27 no                           NA                    27\n 6  2023 Denver Bro…    19 yes                          19                    NA\n 7  2023 Los Angele…    31 yes                          31                    NA\n 8  2023 Denver Bro…     9 no                           NA                     9\n 9  2023 Miami Dolp…    21 no                           NA                    21\n10  2023 Philadelph…    17 no                           NA                    17\n# ℹ 31 more rows\n\n\nTo calculate the theoretical ATE, we would need both the points scored when she attended (Taylor_Outcome_Y1) and the points scored when she did not attend (Taylorless_Outcome_Y0). Since each game only has one of these two conditions, ATE is impossible to calculate without a time machine and an incredible amount of persuation.\nTo solve this problem, we will estimate ATE with the following formula.\n\\[\n\\text{E}(\\text{ATE}) = \\pi_{\\text{treated}} \\cdot \\text{E}\\left[Y_i - \\text{E}(Y_i^0)\\right] + \\pi_{\\text{untreated}} \\cdot \\text{E}\\left[\\text{E}(Y_i^1) - Y_i\\right]\n\\]\nIn order to determine \\(\\text{E}(ATE)\\) and to fill in he rest of our data frame, we will use modeling techniques to determine \\(\\text{E}(Y_i^0 \\, | \\, X_i = 1)\\) and \\(\\text{E}(Y_i^1 \\, | \\, X_i = 0)\\)"
  },
  {
    "objectID": "FinalProject.html#modeling",
    "href": "FinalProject.html#modeling",
    "title": "Shake It Off-ense: A Causal Analysis of Taylor Swift’s Impact on Chiefs Game Outcomes",
    "section": "Modeling",
    "text": "Modeling\nWe begin with a Lasso model to identify key response variables for future analysis, using data from the 2013 to 2022 seasons.\n\nkcc_lasso_model &lt;- linear_reg(mode = \"regression\", engine = \"glmnet\",\n                          penalty = tune(), \n                          mixture = 1) \n\nkcc_lasso_recipe &lt;- recipe(\n  PtS ~ PtA \n  + FirstD \n  + TotYd \n  + PassY \n  + RushY\n  + FirstD_Alwd\n  + TotYd_Alwd \n  + PassY_Alwd \n  + RushY_Alwd, \n  data = kcc_g_train\n) |&gt;\n  step_normalize(all_numeric_predictors()) |&gt; \n  step_dummy(all_nominal_predictors())\n\nkcc_lasso_wflow &lt;- workflow() |&gt;\n  add_model(kcc_lasso_model) |&gt;\n  add_recipe(kcc_lasso_recipe) \n\nkcc_cv &lt;- vfold_cv(kcc_g_train, v = 10)\nkcc_lasso_tune &lt;- tune_grid(kcc_lasso_model, \n                      kcc_lasso_recipe, \n                      resamples = kcc_cv, \n                      grid = grid_regular(penalty(range = c(-2, 2)), levels = 50))\n\n\nkcc_lasso_tune |&gt;\n  collect_metrics() |&gt;\n  filter(.metric == \"rmse\") |&gt;\n  ggplot(mapping = aes(x = penalty, y = mean)) + geom_point() + geom_line() +\n  scale_x_log10()\n\n\n\n\n\n\n\n\n\nlasso_best &lt;- kcc_lasso_tune |&gt;\n  select_best(\n    metric = \"rmse\"\n)\nlasso_best\n\n# A tibble: 1 × 2\n  penalty .config              \n    &lt;dbl&gt; &lt;chr&gt;                \n1   0.115 Preprocessor1_Model14\n\nlasso_wflow_final &lt;- kcc_lasso_wflow |&gt;\n  finalize_workflow(parameters = lasso_best) \n\n\nkcc_lasso_fit &lt;- lasso_wflow_final |&gt;\n  fit(data = kcc_g_train)\n\n\nkcc_lasso_coef &lt;- kcc_lasso_fit |&gt;\n  broom::tidy()\nkcc_lasso_coef \n\n# A tibble: 10 × 3\n   term        estimate penalty\n   &lt;chr&gt;          &lt;dbl&gt;   &lt;dbl&gt;\n 1 (Intercept)   27.8     0.115\n 2 PtA           -0.579   0.115\n 3 FirstD         0.957   0.115\n 4 TotYd          3.82    0.115\n 5 PassY          0       0.115\n 6 RushY          0.928   0.115\n 7 FirstD_Alwd    1.77    0.115\n 8 TotYd_Alwd     0       0.115\n 9 PassY_Alwd     0.659   0.115\n10 RushY_Alwd    -0.457   0.115\n\n\nHere we can see that important variables include Points Allowed (PtA), First Down Count (FirstD), Total Yards (TotYd), total Rusing Yards (RushY), First Downs Allowed (FirstD_Alwd), Passing Yards Allowed (PassY_Alwd) and Rushing Yards Allowed (RushY_Alwd). We will proceed to use these variables in our following models.\n\nTraining Causal Models\nFirst We will train our “Taylor Model” with games that Taylor attended.\n\nkcc_taylor_model &lt;- linear_reg(mode = \"regression\", engine = \"lm\")\n\nkcc_taylor_wflow &lt;- workflow() |&gt;\n  add_model(kcc_taylor_model)\n\nkcc_taylor_recipe &lt;- recipe(\n  PtS ~ PtA\n  + FirstD \n  + TotYd \n  + RushY\n  + FirstD_Alwd\n  + PassY_Alwd\n  + RushY_Alwd,\n  data = kcc_g_taylor\n)\n\nkcc_taylor_wflow &lt;- kcc_taylor_wflow |&gt;\n  add_recipe(kcc_taylor_recipe)\n\nkcc_taylor_fit &lt;- fit(kcc_taylor_wflow, data = kcc_g_taylor)\nkcc_taylor_fit\n\n══ Workflow [trained] ══════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: linear_reg()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n0 Recipe Steps\n\n── Model ───────────────────────────────────────────────────────────────────────\n\nCall:\nstats::lm(formula = ..y ~ ., data = data)\n\nCoefficients:\n(Intercept)          PtA       FirstD        TotYd        RushY  FirstD_Alwd  \n   1.434340     0.206344     0.393538     0.030346     0.011989    -0.438981  \n PassY_Alwd   RushY_Alwd  \n   0.009074     0.037395  \n\n\nNow we will train our “Taylor-less” model with games Taylor did not attend.\n\nkcc_taylorless_model &lt;- linear_reg(mode = \"regression\", engine = \"lm\")\n\nkcc_taylorless_wflow &lt;- workflow() |&gt;\n  add_model(kcc_taylorless_model)\n\nkcc_taylorless_recipe &lt;- recipe(\n  PtS ~ PtA\n  + FirstD \n  + TotYd \n  + RushY\n  + FirstD_Alwd\n  + PassY_Alwd\n  + RushY_Alwd,\n  data = kcc_g_taylorless\n)\n\nkcc_taylorless_wflow &lt;- kcc_taylorless_wflow |&gt;\n  add_recipe(kcc_taylorless_recipe)\n\nkcc_taylorless_fit &lt;- fit(kcc_taylorless_wflow, data = kcc_g_taylorless)\nkcc_taylorless_fit\n\n══ Workflow [trained] ══════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: linear_reg()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n0 Recipe Steps\n\n── Model ───────────────────────────────────────────────────────────────────────\n\nCall:\nstats::lm(formula = ..y ~ ., data = data)\n\nCoefficients:\n(Intercept)          PtA       FirstD        TotYd        RushY  FirstD_Alwd  \n   -8.58012     -0.69207      2.23804     -0.05511     -0.02784     -0.17735  \n PassY_Alwd   RushY_Alwd  \n    0.08502      0.05225"
  },
  {
    "objectID": "FinalProject.html#predicting-response",
    "href": "FinalProject.html#predicting-response",
    "title": "Shake It Off-ense: A Causal Analysis of Taylor Swift’s Impact on Chiefs Game Outcomes",
    "section": "Predicting Response",
    "text": "Predicting Response\nWe will now use our Taylor and Taylor-less models to determine the missing \\(\\text{E}(Y_i^0 \\, | \\, X_i = 1)\\) and \\(\\text{E}(Y_i^1 \\, | \\, X_i = 0)\\) values.\nWe will start by finding \\(\\text{E}(Y_i^1 \\, | \\, X_i = 0)\\)\n\n# augment is in the broom package, loaded with tidymodels\nkcc_pred_taylorless &lt;- kcc_taylor_fit |&gt;\n  augment(\n  new_data = kcc_g_taylorless,\n)\n  \nkcc_pred_taylorless |&gt;\n  dplyr::select(\n    Year,\n    Ppp,\n    PtS,\n    .pred\n  )\n\n# A tibble: 18 × 4\n    Year Ppp                    PtS .pred\n   &lt;int&gt; &lt;chr&gt;                &lt;dbl&gt; &lt;dbl&gt;\n 1  2023 Detroit Lions           20  21.5\n 2  2023 Jacksonville Jaguars    17  20.7\n 3  2023 Minnesota Vikings       27  19.2\n 4  2023 Denver Broncos           9  20.7\n 5  2023 Miami Dolphins          21  17.0\n 6  2023 Philadelphia Eagles     17  25.4\n 7  2023 Las Vegas Raiders       31  25.5\n 8  2023 Los Angeles Chargers    13  15.1\n 9  2024 Atlanta Falcons         22  22.4\n10  2024 Los Angeles Chargers    17  19.3\n11  2024 San Francisco 49ers     28  23.3\n12  2024 Las Vegas Raiders       27  22.2\n13  2024 Buffalo Bills           21  19.6\n14  2024 Carolina Panthers       30  27.7\n15  2024 Los Angeles Chargers    19  19.5\n16  2024 Cleveland Browns        21  20.3\n17  2024 Pittsburgh Steelers     29  22.9\n18  2024 Denver Broncos           0  10.6\n\n\nThese are the predicted points scored by the Chiefs in 2023 and 2024 games that Taylor DID NOT attend, based on our model trained with games that Taylor DID attend.\nNow to populate the missing values under our Taylor-less outcome with these predicted values.\n\nw &lt;- 1\nfor (i in 1:nrow(kcc_disp)) {\n  if (is.na(kcc_disp$Taylor_Outcome_Y1[i])) {\n    kcc_disp$Taylor_Outcome_Y1[i] &lt;- kcc_pred_taylorless$.pred[w]\n    w &lt;- w + 1\n  }\n}\nkcc_disp\n\n# A tibble: 41 × 6\n    Year Ppp           PtS Taylor_Attend Taylor_Outcome_Y1 Taylorless_Outcome_Y0\n   &lt;int&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;                     &lt;dbl&gt;                 &lt;dbl&gt;\n 1  2023 Detroit Li…    20 no                         21.5                    20\n 2  2023 Jacksonvil…    17 no                         20.7                    17\n 3  2023 Chicago Be…    41 yes                        41                      NA\n 4  2023 New York J…    23 yes                        23                      NA\n 5  2023 Minnesota …    27 no                         19.2                    27\n 6  2023 Denver Bro…    19 yes                        19                      NA\n 7  2023 Los Angele…    31 yes                        31                      NA\n 8  2023 Denver Bro…     9 no                         20.7                     9\n 9  2023 Miami Dolp…    21 no                         17.0                    21\n10  2023 Philadelph…    17 no                         25.4                    17\n# ℹ 31 more rows\n\n\nWe will now find the value of \\(\\text{E}(Y_i^0 \\, | \\, X_i = 1)\\)\n\n# augment is in the broom package, loaded with tidymodels\nkcc_pred_taylor &lt;- kcc_taylorless_fit |&gt;\n  augment(\n  new_data = kcc_g_taylor,\n)\n  \nkcc_pred_taylor |&gt;\n  dplyr::select(\n    Year,\n    Ppp,\n    PtS,\n    .pred\n  )\n\n# A tibble: 23 × 4\n    Year Ppp                    PtS .pred\n   &lt;int&gt; &lt;chr&gt;                &lt;dbl&gt; &lt;dbl&gt;\n 1  2023 Chicago Bears           41 36.0 \n 2  2023 New York Jets           23 25.3 \n 3  2023 Denver Broncos          19 21.5 \n 4  2023 Los Angeles Chargers    31 30.1 \n 5  2023 Green Bay Packers       19 30.0 \n 6  2023 Buffalo Bills           17 23.4 \n 7  2023 New England Patriots    27 17.1 \n 8  2023 Las Vegas Raiders       14 10.9 \n 9  2023 Cincinnati Bengals      25  4.40\n10  2023 Miami Dolphins          26 33.5 \n# ℹ 13 more rows\n\n\nThese are the predicted points scored by the Chiefs in 2023 and 2024 games if Taylor had not attended them.\nWe will now populate the last of the missing data in our data frame with these predicted values.\n\nw &lt;- 1\nfor (i in 1:nrow(kcc_disp)) {\n  if (is.na(kcc_disp$Taylorless_Outcome_Y0[i])) {\n    kcc_disp$Taylorless_Outcome_Y0[i] &lt;- kcc_pred_taylor$.pred[w]\n    w &lt;- w + 1\n  }\n}\nkcc_disp\n\n# A tibble: 41 × 6\n    Year Ppp           PtS Taylor_Attend Taylor_Outcome_Y1 Taylorless_Outcome_Y0\n   &lt;int&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;                     &lt;dbl&gt;                 &lt;dbl&gt;\n 1  2023 Detroit Li…    20 no                         21.5                  20  \n 2  2023 Jacksonvil…    17 no                         20.7                  17  \n 3  2023 Chicago Be…    41 yes                        41                    36.0\n 4  2023 New York J…    23 yes                        23                    25.3\n 5  2023 Minnesota …    27 no                         19.2                  27  \n 6  2023 Denver Bro…    19 yes                        19                    21.5\n 7  2023 Los Angele…    31 yes                        31                    30.1\n 8  2023 Denver Bro…     9 no                         20.7                   9  \n 9  2023 Miami Dolp…    21 no                         17.0                  21  \n10  2023 Philadelph…    17 no                         25.4                  17  \n# ℹ 31 more rows\n\n\nNow we will compute \\(\\text{E}(ATT) = \\text{E}\\left[Y_i - \\text{E}(Y_i^0) \\, | \\, X = 1\\right]\\) and \\(\\text{E}(ATU) = \\text{E}\\left[\\text{E}(Y_i^1) - Y_i \\, | \\, X = 0\\right]\\)\n\nE_ATT &lt;- mean(kcc_pred_taylor$PtS - kcc_pred_taylor$.pred)\nE_ATT\n\n[1] 0.1398794\n\nE_ATU &lt;- mean(kcc_pred_taylorless$.pred - kcc_pred_taylorless$PtS)\nE_ATU\n\n[1] 0.2199924\n\n\nWe will now determine the proportion of games Taylor attended and did not attend.\n\n pi_treated &lt;- sum(kcc_disp$Taylor_Attend == \"yes\") / nrow(kcc_disp)\n pi_treated\n\n[1] 0.5609756\n\n pi_untreated &lt;-sum(kcc_disp$Taylor_Attend == \"no\") / nrow(kcc_disp)\n pi_untreated\n\n[1] 0.4390244\n\n\nNow using the previous equation,\n\\[\n\\text{E}(\\text{ATE}) = \\pi_{\\text{treated}} \\cdot \\text{E}\\left[Y_i - \\text{E}(Y_i^0)\\right] + \\pi_{\\text{untreated}} \\cdot \\text{E}\\left[\\text{E}(Y_i^1) - Y_i\\right]\n\\]\nwe get an estimated ATE of:\n\nE_ATE &lt;- pi_treated * E_ATT + pi_untreated * E_ATU\nE_ATE\n\n[1] 0.175051"
  },
  {
    "objectID": "FinalProject.html#insights",
    "href": "FinalProject.html#insights",
    "title": "Shake It Off-ense: A Causal Analysis of Taylor Swift’s Impact on Chiefs Game Outcomes",
    "section": "Insights",
    "text": "Insights\nAn Average Treatment Effect (ATE) of 0.175 suggests that Taylor Swift’s presence at Kansas City Chiefs games during the 2023–2024 seasons was associated with a 0.175-point increase in points scored by the team. However, this is not a statistically or practically significant effect. Out of all 41 games played across those two seasons, only one game was decided by a single point.\nThat game represents the only scenario in which her estimated impact might have plausibly influenced the outcome. Even so, it is highly unlikely that her attendance alone would have been enough to change the result.\nA 0.175-point boost amounts to just a 0.77% increase over the Chiefs’ average score during the 2023 and 2024 seasons — a marginal effect. There are many other factors and strategies that could be pursued to increase scoring more effectively and meaningfully.\n\nChief_Losses &lt;- kcc_g_test |&gt; \n  filter(Outcome == \"L\", abs(PtA - PtS) &lt; 2) \n\nChief_Losses |&gt;  dplyr::select(Year, Week, Ppp, PtS, PtA, Outcome, Taylor_Attend)\n\n# A tibble: 1 × 7\n   Year Week  Ppp             PtS   PtA Outcome Taylor_Attend\n  &lt;int&gt; &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;        \n1  2023 1     Detroit Lions    20    21 L       no           \n\n\nAn Average Treatment Effect of .175 suggests that Taylor Swifts presence at Kansas City Chiefs games from 2023 to 2024 was responsible for a .175 increase in Points Scored by the Chiefs. This is not a statistically significant effect. In all 41 games of the Chief’s 2023 and 2024 seasons, only game came down to 1 point.\nIn summary, the increase in performance attributed to Taylor Swift’s attendance is neither impactful nor actionable, and is unlikely to have meaningfully affected game outcomes.\n\nLimitations and Future Work\nThis study has several limitations that should be considered, along with opportunities for further research\nFirstly, there is only a small amount of data available to perform inference of Taylor Swifts impact on the Chiefs. While a sufficient amount is used to discover key variables (181 games from 2013 - 2022) in our LASSO model, there is only 41 games available in season 2023 and 2024. We are then forced to train our Causal Models on about half of the remaining data, which leads to inaccurate estimates for our prediction of expected ATE. Assuming their relationship progresses, a more accurate expected ATE will be accessible with around an additional 20 games to train our models on.\nAnother concern arisies in the assumptions we make when determining the expected ATT and ATU. When deriving these values, we are assuming there are no other confounding variables contributing to the difference in predicted and actual points scored other than Taylor Swifts Attendance and some amount of irreducible error. This however is unlikely as there are likely multiple factors that contribute to the success of the Chiefs. Some of these factors may include weather, schedule, timezone, rivalries etc. Most of these factors are unmeasured by the available data set, therefore cannot contribute to t he accuracy of a future model.\nAs stated earlier, our choice of points scored as a response variable indicating the success of the Chief’s offense is flawed. There are multiple factors that contribute to the Chiefs scoring more points that are not associated with the offense, such as opposing defensive strength. It is likely that the chiefs will score more points against teams with a weaker defense. In a future study I would like to explore reponse variables that measure Offensive performance relative to defensive strength. A variable reassuring difference between expected offensive points and actual offensive points would be a stronger response variable.\nAnother issue with using points scored as a response variable is that it include points scored by the entire team. This includes pick sixes, fumble recoveries for touchdowns and safeties, and extra points. thus, points scored also partially measures the success of the defense and special teams. Using another data set that has strictly offensive points scored would solve this problem."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Caleb Vander Wall",
    "section": "",
    "text": "An aspiring Data Scientist looking for an entry level data analysis or data science position."
  },
  {
    "objectID": "index.html#education",
    "href": "index.html#education",
    "title": "Caleb Vander Wall",
    "section": "Education",
    "text": "Education\nSantiago Canyon College | Orange | 2018 - 2020\nCalifornia State University Fullerton | Fullerton | 2023 - Present"
  },
  {
    "objectID": "index.html#experience",
    "href": "index.html#experience",
    "title": "Caleb Vander Wall",
    "section": "Experience",
    "text": "Experience\nCalvary Church Santa Ana | Worship Resident | June 2022 - present\nVans | Sales Associate | July 2018 - March 2020"
  },
  {
    "objectID": "index.html#projects",
    "href": "index.html#projects",
    "title": "Caleb Vander Wall",
    "section": "Projects",
    "text": "Projects\nTaylor Swift’s Effect on Chiefs’ Performance | Causal Analysis | R | 2025\nThis project explores the “Taylor Swift effect” on the Kansas City Chiefs’ performance by estimating the causal impact of her game attendance on points scored. Using counter factual predictions and treatment effect estimators (ATE, ATT, ATU), the analysis finds only weak evidence of a slight increase in team scoring associated with her presence.\nCalvary Church of Santa Ana Membership Data | Data Analysis/Visualization | Microsoft Power BI |2025\nThis project analyzes membership data from a church organization to identify trends in data quality and member engagement. Dashboards were developed in Power BI using Power Query and DAX to clean, model, and visualize the data. The analysis was conducted at the request of the organization to support improved reporting accuracy and more effective engagement strategies."
  },
  {
    "objectID": "calvary_mem_proj.html",
    "href": "calvary_mem_proj.html",
    "title": "Calvary Membership Data Project",
    "section": "",
    "text": "This video provides a brief walkthrough of a Power BI dashboard analyzing membership data quality and engagement trends.\nDue to data sensitivity, the dashboard is demonstrated via recorded walkthrough rather than public deployment."
  },
  {
    "objectID": "calvary_mem_proj.html#project-walkthrough",
    "href": "calvary_mem_proj.html#project-walkthrough",
    "title": "Calvary Membership Data Project",
    "section": "",
    "text": "This video provides a brief walkthrough of a Power BI dashboard analyzing membership data quality and engagement trends.\nDue to data sensitivity, the dashboard is demonstrated via recorded walkthrough rather than public deployment."
  }
]